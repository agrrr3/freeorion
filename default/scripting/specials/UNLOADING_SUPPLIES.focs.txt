Special // for keeping a stockpile of supplies used up for industry
    name = "UNLOADING_SUPPLIES_SPECIAL"
    description = "UNLOADING_SUPPLIES_SPECIAL_DESC"
    spawnrate = 0.0
    effectsgroups = [
        EffectsGroup // Transfer capacity from the supply pile to planet's industry by raising the maximum value.
            scope = Source // is the special's planet
            activation = HasSpecialCapacity name = "UNLOADING_SUPPLIES_SPECIAL" low = 0.01
            accountinglabel = "SUPPLY_USAGE_LABEL"
            effects = [
                SetSpecialCapacity name = "UNLOADING_SUPPLIES_SPECIAL" value = Value - [[SUPPLY_SHIP_INDUSTRY_BOOST]]
                SetTargetIndustry value = max([[SUPPLY_SHIP_INDUSTRY_BOOST]], Value + [[SUPPLY_SHIP_INDUSTRY_BOOST]])
                GenerateSitRepMessage
                    message = "EFFECT_SUPPLY_USAGE"
                    label = "EFFECT_SUPPLY_USAGE_LABEL"
                    icon = "icons/focus/supply.png"
                    parameters = [
                        tag = "planet" data = Target.ID
                        tag = "rawtext" data = "[[SUPPLY_SHIP_INDUSTRY_BOOST]] (/??)"
                    ]
            ]
        EffectsGroup // Boost industry when supply pile is created
            scope = Source // is the special's planet
            activation = And [
                Not HasSpecialSinceTurn name = "UNLOADING_SUPPLIES_SPECIAL" low = 1 high = CurrentTurn - 1
                HasSpecialCapacity name = "UNLOADING_SUPPLIES_SPECIAL" low = 0.01
            ]
            accountinglabel = "UNLOADING_SUPPLIES_FROM_SPECIAL_LABEL"
            effects = [
                // XXX should use max or not? 
                SetIndustry value = max([[SUPPLY_SHIP_INDUSTRY_BOOST]], Value + [[SUPPLY_SHIP_INDUSTRY_BOOST]])
            ]
        EffectsGroup // Remove the special (and the industry boost) when the supply pile is empty 
            scope = Source // is the special's planet
            activation = HasSpecialCapacity name = "UNLOADING_SUPPLIES_SPECIAL" high = 0.0
            effects = [
                RemoveSpecial name = "UNLOADING_SUPPLIES_SPECIAL"
                // XXX should use max or not? industry may be intermittently less than zero?
                SetIndustry value = max(min(0, Value), Value - [[SUPPLY_SHIP_INDUSTRY_BOOST]])
                GenerateSitRepMessage
                    message = "EFFECT_UNLOADING_SUPPLIES_STOCKPILE_EMPTY"
                    label = "EFFECT_UNLOADING_SUPPLIES_STOCKPILE_EMPTY_LABEL"
                    icon = "icons/meter/capacity.png"
                    parameters = [
                        tag = "planet" data = Target.ID
                    ]
            ]
    ]
    graphic = "icons/building/concentration-camp.png"

// adding industry and max industry boosts when adding the special
// both boosts get removed when removing the special when the capacity is zero
SUPPLY_SHIP_INDUSTRY_BOOST
'''5.0'''




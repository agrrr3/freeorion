BuildingType
    name = "BLD_IMPERIAL_GOVERNMENT_TYPE_DEMOCRACY"
    description = "BLD_IMPERIAL_GOVERNMENT_TYPE_DEMOCRACY_DESC"
    captureresult = destroy
    buildcost = 1
    buildtime = 1
    tags = [ "GOVERNMENT_TYPE" ]
    location = And [
        Capital
        OwnedBy empire = Source.Owner
        Not HasTag name = "GOVERNMENT_TYPE"
        TargetPopulation low = 1
        Number low = 0 high = 0 condition = And [
            Building
            HasTag name = "GOVERNMENT_TYPE"
            OwnedBy empire = Source.Owner
            ProducedByEmpire empire = Source.Owner
        ]
    ]
    enqueuelocation = [[ENQUEUELOCATION_GOVERNMENT_TYPE]]
    icon = "icons/flags/emblem/skull.png"

GOVERNMENT_MINISTRY_SEAT
'''BuildingType
    name = "BLD_IMPERIAL_GOVERNMENT_SEAT_MINISTRY_@1@"
    description = "BLD_IMPERIAL_GOVERNMENT_SEAT_MINISTRY_@1@_DESC"
    captureresult = destroy
    buildcost = 1
    buildtime = 1
    tags = [ "GOVERNMENT_FUNCTION_@1@" ]
    location = And [
        Planet
        OwnedBy empire = Source.Owner
        TargetPopulation low = 1
        [[CONDITION_GOVERNMENT_TYPE_IS(DEMOCRACY)]]
        [[CONDITION_NO_SUCH_GOVERNMENT_SEAT_EXISTS(MINISTRY_@1@)]]
    ]
    enqueuelocation = [[ENQUEUELOCATION_GOVERNMENT_SEAT(MINISTRY_@1@)]]
    effectsgroups = [
        // destruct ministry if democracy is gone
        EffectsGroup
            scope = Source
            activation = Source
            stackinggroup = "GOVERNMENT_FUNCTION_@1@_STACK"
            priority = [[EARLY_PRIORITY]]
            effects = If condition = [[CONDITION_GOVERNMENT_TYPE_IS_NOT_(DEMOCRACY)]] effects = [
                // Bug? seems the GOVERNMENT_FUNCTION_@1@_STACK doesnt work, else i could suppress the effects instead of destroying the building
                Destroy 
                GenerateSitRepMessage
                    message = "EFFECT_GOVERNMENT_SEAT_COLLAPSES"
                    label = "EFFECT_GOVERNMENT_SEAT_COLLAPSES_LABEL"
                    icon = "icons/building/heavy_mining_processor.png"
                    parameters = [
                        tag = "buildingtype" data = "BLD_IMPERIAL_GOVERNMENT_SEAT_MINISTRY_@1@"
                        tag = "planet" data = Source.PlanetID
                    ]
                    empire = Source.Owner
            ]
            // add sitrep here
        
        [[EFFECT_GROUPS_GOVERNMENT_FUNCTION_@1@]]
    ]'''
    
[[GOVERNMENT_MINISTRY_SEAT(DEFENSE)]]
    icon = "icons/building/camp.png"

[[GOVERNMENT_MINISTRY_SEAT(EDUCATION)]]
    icon = "icons/building/autolab_control_centre.png"
    
[[GOVERNMENT_MINISTRY_SEAT(FOREIGN)]]
    icon = "icons/building/shield.png"

[[GOVERNMENT_MINISTRY_SEAT(INTERIOR)]]
    icon = "icons/building/economic_sinkhole.png"

[[GOVERNMENT_MINISTRY_SEAT(PROPAGANDA)]]
    icon = "icons/building/psi-corps.png"

#include "/scripting/common/enqueue.macros"
#include "/scripting/common/priorities.macros"
#include "/scripting/buildings/government.macros"
#include "/scripting/buildings/government_functions.macros"